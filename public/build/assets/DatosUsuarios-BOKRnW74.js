import{S as N,r as h,j as s,R as t}from"./app-BuuD6lpa.js";import{S as y}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import f from"./DeleteUser-DVNQEGxi.js";import{j as b}from"./select-B74TddGf.js";import"./use-active-press-DE8PGQ8l.js";import"./disabled-DLqkM58F.js";import"./render-CCG26YjB.js";import"./description-CgyiSik5.js";import"./use-sync-refs-Uhy4_XaG.js";function F({user:a,expanded:n,toggleRow:m,historial:i,idx:p}){const{data:d,setData:l,post:x}=N({estado:i[0].estado,permisos:a.permisos});h.useEffect(()=>{l("estado",i[0].estado),l("permisos",a.permisos)},[]);const o=(e,r,c)=>{y.fire({title:e,text:r,icon:c,confirmButtonText:"Aceptar"})},j=e=>{x(route("historial.update",a.id),{onFinish:()=>{o("Éxito","El usuario se actualizó correctamente.","success")},onError:r=>{o("Error","Hubo un error al actualizar el usuario: "+r,"error")}})};return s.jsxs(t.Fragment,{children:[s.jsxs("tr",{className:`${p%2===0?"bg-gray-50":"bg-white"} cursor-pointer hover:bg-blue-50`,onClick:()=>m(a.id),children:[s.jsx("td",{className:"px-4 py-2",children:a.usuario}),s.jsx("td",{className:"px-4 py-2",children:a.nombres}),s.jsx("td",{className:"px-4 py-2",children:a.apellidos}),s.jsx("td",{className:"px-4 py-2",children:a.id})]}),n&&i.map((e,r)=>s.jsxs(t.Fragment,{children:[s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Permisos"}),s.jsx("td",{className:"px-4 py-2",children:i[0].estado!="0"?s.jsxs("select",{id:"permisos",name:"permisos",onChange:c=>l("permisos",c.target.value),value:d.permisos,children:[s.jsx("option",{value:"Administrador",children:"Administrador"}),s.jsx("option",{value:"UsuarioNormal",children:"Usuario Normal"})]}):a.permisos=="Administrador"?"Administrador":"Usuario Normal"}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"ItemAi"}),s.jsx("td",{className:"px-4 py-2",children:a.ItemAi})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"CodUsuario"}),s.jsx("td",{className:"px-4 py-2",children:a.codUsuario}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Email"}),s.jsx("td",{className:"px-4 py-2",children:a.email})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"En línea"}),s.jsx("td",{className:"px-4 py-2",children:e.enlinea?s.jsx("div",{className:"w-4 h-4 rounded-full bg-green-600 mx-auto"}):s.jsx("div",{className:"w-4 h-4 rounded-full bg-red-600  mx-auto"})}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Ingresos"}),s.jsx("td",{className:"px-4 py-2",children:e.num_ingresos})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Fec Creación"}),s.jsx("td",{className:"px-4 py-2",children:e.fec_creacion}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Hora Creación"}),s.jsx("td",{className:"px-4 py-2",children:e.hora_creacion||"-"})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Fec Modificación"}),s.jsx("td",{className:"px-4 py-2",children:e.fec_modificacion||"-"}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Hora Modificación"}),s.jsx("td",{className:"px-4 py-2",children:e.hora_modificacion||"-"})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Fec Eliminación"}),s.jsx("td",{className:"px-4 py-2",children:e.fec_eliminacion||"-"}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Hora Eliminación"}),s.jsx("td",{className:"px-4 py-2",children:e.hora_eliminacion||"-"})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Fec Último Acceso"}),s.jsx("td",{className:"px-4 py-2",children:e.fec_ultimo_acceso}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Hora Último Acceso"}),s.jsx("td",{className:"px-4 py-2",children:e.hora_ultimo_acceso})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Creado Por"}),s.jsx("td",{className:"px-4 py-2",children:e.creado_por||"-"}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Modificado Por"}),s.jsx("td",{className:"px-4 py-2",children:e.modificado_por||"-"})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Eliminado Por"}),s.jsx("td",{className:"px-4 py-2",children:e.eliminado_por||"-"}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:"Estado"}),i[0].estado!="0"?s.jsx("td",{className:"px-4 py-2 font-bold ",children:s.jsxs(b,{id:"estado",name:"estado",onChange:c=>l("estado",c.target.value),value:d.estado,children:[s.jsx("option",{value:"1",children:"Activo"}),s.jsx("option",{value:"2",children:"Desactivo"})]})}):s.jsx("td",{className:"px-4 py-2 font-bold text-red-600",children:"Anulado"})]}),s.jsx("tr",{className:"bg-gray-100",children:s.jsx("td",{colSpan:4,className:" justify-center items-center py-4",children:s.jsxs("div",{className:"w-full flex flex-row justify-center items-center text-center gap-20 ",children:[i[0].estado!="0"?s.jsx("img",{src:"img/save.svg",className:"w-6 h-6 cursor-pointer hover:scale-110",onClick:()=>j()}):"",s.jsx(f,{idUser:a.id,mostrarAlerta:o,historial:i})]})})})]},r))]})}export{F as default};
